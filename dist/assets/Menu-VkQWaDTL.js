import{j as r,c as l,r as i,L as h,a as p,P as m,A as x}from"./index-DkKC1CoO.js";const g="_h1_8a7ev_1",j={h1:g};function f({children:s,className:c,...a}){return r.jsx(r.Fragment,{children:r.jsx("h1",{...a,className:l(c,j.h1),children:s})})}const v="_input_18cec_1",N="_icon_18cec_19",o={input:v,"search-wrapper":"_search-wrapper_18cec_15",icon:N},y=i.forwardRef(function({className:c,isValid:a=!0,...t},d){return r.jsxs("div",{className:o["search-wrapper"],children:[r.jsx("input",{...t,ref:d,className:l(c,o.input,{[o.invalid]:!a})}),r.jsx("img",{src:"src/assets/search.svg",alt:"find icon",className:o.icon})]})}),w="_head_12z56_1",$={head:w},k="_title_1r5nr_19",E="_description_1r5nr_26",I="_price_1r5nr_34",L="_currency_1r5nr_49",P="_rating_1r5nr_76",R="_link_1r5nr_88",e={"card-wrapper":"_card-wrapper_1r5nr_1","card-head":"_card-head_1r5nr_9","card-footer":"_card-footer_1r5nr_15",title:k,description:E,price:I,currency:L,"add-to-cart":"_add-to-cart_1r5nr_56",rating:P,link:R};function S(s){return r.jsx(h,{to:`/product/${s.productId}`,className:e.link,children:r.jsxs("div",{className:e["card-wrapper"],children:[r.jsxs("div",{className:e["card-head"],style:{backgroundImage:`url('${s.image}')`},children:[r.jsxs("div",{className:e.price,children:[s.price," ",r.jsx("span",{className:e.currency,children:"₽"})]}),r.jsx("button",{className:e["add-to-cart"],children:r.jsx("img",{src:"src/assets/cart-icon.svg",alt:"cart icon"})}),r.jsxs("div",{className:e.rating,children:[s.productRating," ",r.jsx("img",{src:"src/assets/star.svg",alt:"icon rating"})]})]}),r.jsxs("div",{className:e["card-footer"],children:[r.jsx("div",{className:e.title,children:s.name}),r.jsx("div",{className:e.description,children:s.description})]})]})})}const F={"product-cards-wrap":"_product-cards-wrap_5osr5_1"};function b({products:s}){return r.jsx("div",{className:F["product-cards-wrap"],children:s.map(c=>r.jsx(S,{productId:c.id,price:c.price,productRating:c.rating,image:c.image,description:c.ingredients.join(", "),name:c.name},c.id))})}function M(){const[s,c]=i.useState([]),[a,t]=i.useState(!1),[d,_]=i.useState(),u=async()=>{try{t(!0);const{data:n}=await p.get(`${m}/products`);c(n),t(!1)}catch(n){console.error(n),n instanceof x&&_(n.message),t(!1)}};return i.useEffect(()=>{u()},[]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:$.head,children:[r.jsx(f,{children:"Меню"}),r.jsx(y,{placeholder:"Введите блюдо или состав"})]}),r.jsxs("div",{children:[d&&r.jsx(r.Fragment,{children:d}),!a&&r.jsx(b,{products:s})]})]})}export{M as default};
